(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{502:function(s,t,a){"use strict";a.r(t);var n=a(44),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"模块化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块化"}},[s._v("#")]),s._v(" 模块化")]),s._v(" "),a("p",[s._v("模块化之于程序，就如同细胞之于生命体，是具有特定功能的组成单元，不同的模块负责不同的工作，它们以某种方式联系在一起，共同保证程序的正常运转。本文将包含以下几个部分：")]),s._v(" "),a("ul",[a("li",[s._v("1 不同的模块标准以及它们之间的区别；")]),s._v(" "),a("li",[s._v("2 如何编写模块")]),s._v(" "),a("li",[s._v("3 模块打包的原理")])]),s._v(" "),a("p",[s._v("随着"),a("code",[s._v("JavaScript")]),s._v("的发展，社区中产生了很多的模块标准，在认识这些标准的同事，也要了解背后的思想。例如，它为什么会有这个特性，或者为什么要这样去实现，这对于我们自己编写模块也有所帮助。")]),s._v(" "),a("h2",{attrs:{id:"commonjs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs"}},[s._v("#")]),s._v(" CommonJS")]),s._v(" "),a("p",[a("code",[s._v("CommonJS")]),s._v(" 是由"),a("code",[s._v("JavaScript")]),s._v("社区于 2009年提出的包含模块、文件、IO、控制台在内的一系列标准。在"),a("code",[s._v("Node.js")]),s._v("js的实现中采用了"),a("code",[s._v("CommonJS")]),s._v("标准的一部分，并在其基础上进行了一些调整，我们所说的"),a("code",[s._v("CommonJS")]),s._v("模块和"),a("code",[s._v("Node.js")]),s._v(".js中的实现并不完全一样，现在一般谈到"),a("code",[s._v("CommonJS")]),s._v("其实是"),a("code",[s._v("Node.js")]),s._v("的版本，而非它的原始定义。")]),s._v(" "),a("p",[a("code",[s._v("CommonJS")]),s._v("最初只为服务器设计，直到 \b\b\b"),a("code",[s._v("Browserify")]),s._v(" -- 一个运行在"),a("code",[s._v("Node.js")]),s._v("环境下的模块打包工具，它可以将 "),a("code",[s._v("CommonJS")]),s._v("模块打包为浏览器可以单独运行的单个文件。这意味着客户端的代码也可以遵循"),a("code",[s._v("CommonJS")]),s._v("标准来编写。")]),s._v(" "),a("p",[s._v("不仅如此，借助"),a("code",[s._v("Node.js")]),s._v("的包管理器，npm开发者还可以获取他人的代码库，或者把自己的代码发布上去供他人使用，这种可以共享的传播的方式使的"),a("code",[s._v("CommonJS")]),s._v("在前端开发中逐渐流行起来。")]),s._v(" "),a("h3",{attrs:{id:"模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模块"}},[s._v("#")]),s._v(" 模块")]),s._v(" "),a("p",[a("code",[s._v("CommonJS")]),s._v(" 中规定每一个文件是一个模块。将一个"),a("code",[s._v("JavaScript")]),s._v("文件直接通过script标签插入页面中与封装成"),a("code",[s._v("CommonJS")]),s._v("模块最大的不同在于，前者的顶层作用域是全局作用域，在进行变量声明时会污染全局作用域；而后者会形成一个属于模块自身的作用域，所有的变量以及函数只有自己能够访问，对外是不可见的：")]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// calculator.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'calculater.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// index.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'./calculater.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// index.js")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("这里有两个文件，在index.js 中我们通过 CommonJS 的require函数加载 calculater.js运行之后控制台结果是 'index.js'，这说明 calculater.js中的变量声明并不会影响 index.js, 可见每一个模块是拥有各自作用域的。")])])}),[],!1,null,null,null);t.default=e.exports}}]);