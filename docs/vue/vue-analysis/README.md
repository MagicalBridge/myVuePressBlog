---
sidebar: auto
---

# Vue内部机制剖析

## 全局概览

首先，我们整体的介绍下vue.js内部的整个运行流程，希望能让大家有一个整体的印象，然后我们再逐个模块进行讲解。从来没有了解过`vue.js`实现的同学可能会对一些内容感到疑惑，这是正常的，我们不妨有些耐心，耐心的将内容看完，再回来观看这一部分，相信会有收获的。

首先，我们来看下vue的内部运行流程图。

![vue内部运行机制](../../images/vue/01.png)

大家第一次看到这个图一定是一头雾水，没有关系，我们来逐个讲解一下这些模块的作用以及调用关系，相信大家对于`vue.js`内部运行机制会有一个大概的认识。

## 初始化及挂载

![初始化挂载](../../images/vue/02.png)

在 `new Vue()`之后。Vue会调用 `_init` 函数进行初始化，也就是这里的`init`过程，它会初始化生命周期、事件、props、methods、data、computed 与 watch等。其中最重要的是通过`Object.defineProperty`设置 `setter` 与 `getter` 函数，用来实现「响应式」和「依赖收集」。

初始化之后调用 `$mount` 会挂载组件、如果是**运行时编译**，即不存在 `render function` 但是存在 template, 需要进行「编译」步骤。


 

