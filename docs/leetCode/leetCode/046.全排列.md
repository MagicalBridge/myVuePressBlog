---
sidebar: auto
---

# 46.全排列
[题目描述](https://leetcode.cn/problems/permutations/)

::: tip
标签：数组、回溯 
:::




给定一个**没有重复**数字的排列，返回其所有可能的全排列。

示例:

```js
输入: [1,2,3]
输出:
[
  [1,2,3],
  [1,3,2],
  [2,1,3],
  [2,3,1],
  [3,1,2],
  [3,2,1]
]
```

## 算法思路：

```js
/**
 * @param {number[]} nums
 * @return {number[][]}
 */
var permute = function (nums) {
  const len = nums.length; // 数组的长度
  const res = []; // 最终的结果数组
  const path = [];
  const used = {};
  dfs(nums, len, 0, path, used, res)
  return res;
};

/**
 * @param {*} nums 原本的数组
 * @param {*} len  数组的长度
 * @param {*} depth 这个变量表示当前程序递归到第几层
 * @param {*} path 本质是一个栈, 
 * @param {*} used 
 * @param {*} res 
 */
function dfs(nums, len, depth, path, used, res) {
  // 递归的终止条件是 一个排列中的数字已经选择够了
  if (depth === len) {
    res.push(path.slice())
    return;
  }
  for (const num of nums) {
    if (used[num]) {
      continue
    }
    path.push(num)
    used[num] = true
    dfs(nums, len, depth + 1, path, used, res)
    path.pop();
    used[num] = false
  }
  return res
}
```

```ts
// TypeScript 定义一个全排列函数
function permute(nums: number[]): number[][] {
  const len = nums.length; // 数组的长度
  const res: number[][] = []; // 最终的结果数组
  const path: number[] = [];
  const used: {[key: number]: boolean} = {};
  dfs(nums, len, 0, path, used, res)
  return res;
};

/**
 * @param nums 原本的数组
 * @param len  数组的长度
 * @param depth 这个变量表示当前程序递归到第几层
 * @param path 本质是一个栈, 用于存储当前的路径
 * @param used 一个记录元素是否使用过的哈希表
 * @param res 用于存储所有的排列结果
 * @return 返回所有的排列结果
 */
function dfs(nums: number[], len: number, depth: number, path: number[], used: {[key: number]: boolean}, res: number[][]): number[][] {
  // 递归的终止条件是 一个排列中的数字已经选择够了
  if (depth === len) {
    res.push(path.slice())
    return;
  }
  for (const num of nums) {
    if (used[num]) {
      continue
    }
    path.push(num)
    used[num] = true
    dfs(nums, len, depth + 1, path, used, res)
    path.pop();
    used[num] = false
  }
  return res
}
```

1、通过这道题目的题解中used的使用可以使用map结构查重，在java的解法中使用的是一个数组。

2、递归的终止条件是一个排列中的数字已经选择够了，比方说 path 中已经存放了 [1,2,3] 说明一次循环已经结束了。

3、其实开始的时候并不是很明白为什么需要使用for循环去枚举nums，