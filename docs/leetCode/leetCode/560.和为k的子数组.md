---
sidebar: auto
---

# 560.和为k的子数组

[题目描述](https://leetcode.cn/problems/subarray-sum-equals-k/)

## 题解：

考虑以i为结尾和为k的连续子数组的个数，我们需要统计符合条件的下标j的个数，其中 `0 <= j <= i` 且 `[j..i]` 这个子数组的和恰好为 k。

我们可以枚举 `[0..i]` 里所有的下标 j 来判断是否符合条件, 如果我们确定了子数组的开头和结尾，然后进行求和，这里有一个小的技巧，如果我们知道 `[j,i]` 子数组的和，就能够在O(1)时间复杂度内算出 `[j-1,i]`的和，因此这部分的遍历求和是不需要的。

我们在枚举下标 j 的时候已经能 O(1) 求出 [j,i] 的子数组之和。

```js
/**
 * @param {number[]} nums
 * @param {number} k
 * @return {number}
 */
var subarraySum = function(nums, k) {
  // 最终统计的结果
  let count = 0;
  // 遍历数组
  for (let start = 0; start < nums.length; start++) {
    let sum = 0;
    for (let end = start; end >= 0; end--) {
      sum += nums[end];
      if (sum === k) {
        count++;
      }
    }
  }
  return count;
};
```

## 复杂度分析
- 时间复杂度：O(n^2)，其中 n 为数组的长度。枚举子数组开头和结尾需要 O(n^2)的时间，其中求和需要 O(1) 的时间复杂度，因此总时间复杂度为 O(n^2)
- 空间复杂度：O(1)。只需要常数空间存放若干变量。

